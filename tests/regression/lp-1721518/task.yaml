summary: Check that interfaces are listed after reboot the machine

details: |
    This test checks if the interfaces are listed after the machine
    is rebooted. The test is also checking the interfaces after a 
    snap is installed and removed.

execute: |
    # install test-snapd-tools and reboot
    if [ "$SPREAD_REBOOT" = 0 ]; then
        snap install test-snapd-tools
        REBOOT
    fi

    # Check interfaces are shown after install a snap and reboot
    CONNECTED_PATTERN=":core-support +core:core-support-plug"
    snap interfaces | MATCH "$CONNECTED_PATTERN"
