name: test-snapd-gsettings
version: 1.0
summary: Basic gsettings test snap
description: A basic snap to access gsettings
confinement: strict
grade: stable

apps:
  gsettings:
    command: desktop-launch $SNAP/gsettings "$@"
    plugs:
      - desktop
      - gsettings

parts:
    deps:
        plugin: nil
        stage-packages:
          - python-gi
    copy:
        plugin: dump
        source: .
    gsapp:
        plugin: autotools
        source: gsettings-app
        after: [desktop-gtk3]
        configflags:
          - --prefix=/snap/test-snapd-gsettings/current/usr
        organize:
          snap/test-snapd-gsettings/current/usr: usr

