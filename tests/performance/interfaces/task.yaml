summary: Measure the time needed to show interfaces

execute: |
    . "$TESTSLIB/snaps.sh"
    . "$TESTSLIB/perf.sh"

    install_local network-consumer
    install_local test-snapd-netlink-connector
    install_local test-snapd-framebuffer

    snap connect test-snapd-netlink-connector:netlink-connector
    snap connect test-snapd-framebuffer:framebuffer

    for i in $(seq 30); do
        et=$(execution_time_ms "snap interfaces")
        echo "$SPREAD_SYSTEM,interfaces,all,$et,milliseconds" >> $RES_FILE
        et=$(execution_time_ms "snap interface network")
        echo "$SPREAD_SYSTEM,interface,network,$et,milliseconds" >> $RES_FILE
    done
