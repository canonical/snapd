summary: Checks for snap login

systems: [-ubuntu-core-16-64, -ubuntu-core-16-device-amd64, -ubuntu-core-16-arm]

restore: |
    snap logout || true

execute: |
    echo "Checking missing email error"
    expect -f missing_email_error.exp

    echo "Checking wrong password error"
    expect -f unsuccessful_login.exp

    if [[ $SPREAD_STORE_USER && $SPREAD_STORE_PASSWORD ]]; then
        echo "Checking successful login"
        expect -f successful_login.exp
        snap logout
    fi
