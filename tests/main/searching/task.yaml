summary: Check snap search
execute: |
  echo "List all snaps"
  expected="(?s)Name +Version +Developer +Notes +Summary *\n\
  .*?\
  hello-world +.*? *\n\
  .*?\
  xkcd-webserver +.*? *\n\
  .*"
  snap find | grep -Pzq "$expected"

  echo "Exact matches"
  for snapName in hello-world xkcd-webserver
  do
    expected="(?s)Name +Version +Developer +Notes +Summary *\n\
  .*?\n\
  $snapName +.*? *\n\
  .*"
    snap find $snapName | grep -Pzq "$expected"
  done

  echo "Partial terms work too"
  expected="(?s)Name +Version +Developer +Notes +Summary *\n\
  .*?\n\
  hello-world +.*? *\n\
  .*"
  snap find hello- | grep -Pzq "$expected"
